[["index.html", "R Bookdown Template Part 1 Introduction to R Bookdown 1.1 R Bookdown Installation 1.2 Compile a Book 1.3 Upload Your Book to Moodle", " R Bookdown Template Lisa Mott &amp; Tom Wicks Part 1 Introduction to R Bookdown This is a template to create notes in R bookdown. For more information on R bookdown please see this website. 1.1 R Bookdown Installation If you do not already have R and RStudio installed on your computer, go to the RStudio Desktop download page and follow the instructions to install (1) R and (2) RStudio. Use RStudio to install R Bookdown Open RStudio. In the console (box on the left-hand side in the default view), type install.packages(&quot;bookdown&quot;) 1.2 Compile a Book Follow the steps below to download and compile the source code for this template in R Bookdown. Go to the Accessible Maths Materials Sharepoint and click on the Download Source Files link under R Bookdown to download BookdownExample.zip. Move the file to the folder where you want to store your notes, then unzip it to the same folder. Instructions for unzipping files: [Windows, MacOS, Linux] In RStudio in the top-right corner click on the blue Project sign. Click on “Open Project” and navigate to your unzipped file, then open r_bookdown_template.Rproj. In the box with “Environment”, “History”, “Connections”, “Build”, “Tutorial”, click on the “Build” tab, then click on the “Build Book” button. On clicking the button in the previous step, a preview of your compiled book should appear. To view your book outside of RStudio, navigate to the “_book” subfolder that was created when you compiled your book, then open index.html in your favourite browser. 1.3 Upload Your Book to Moodle Please watch the video guide below. If the link does not work then please click here. Please watch the video guide below. If the link does not work then please click here. "],["some-r-bookdown-features.html", "Part 2 Some R Bookdown Features 2.1 Bookdown File Structure 2.2 Markdown Basics 2.3 Mathematics 2.4 Tables 2.5 Images 2.6 Environments", " Part 2 Some R Bookdown Features In this section, we describe the basic use of R Bookdown and introduce some of the more advanced features/customisation. What we present here is representative but not exhaustive. R Bookdown is very well documented by its creator (Yihui Xie) and others. See bookdown.org for lots of useful resources, including the comprehensive Bookdown Documentation. For advanced use of R Bookdown, the rstudio4edu guidance is great. We have a dedicated HTML/Accessibility channel on the School’s Digital Learning Resources Team, where you can ask and discuss questions. 2.1 Bookdown File Structure There are a number of files that make up the R Bookdown structure, but you’ll be glad to know that you can ignore most of them. The ones you will spend most of your time editing are the ones with the .Rmd extension. index.Rmd is recognised by R Bookdown as the first chapter of your book. You can define the title and author of your book in lines 2 and 3 of this file respectively. You should not need to edit the remaining information in lines 4-15. Start writing the first section of your book after the --- in line 16. The remaining .Rmd files contain the subsequent sections of your book. RMarkdown will read the files in alphabetical order, so a sensible naming convention for your files is 01-&lt;section-name&gt;.Rmd, 02-&lt;section-name&gt;.Rmd, etc. Note that each file can contain multiple sections. If you prefer, you can write your entire book in index.Rmd, but this is not recommended as your file could get very big! output.yml provides R Bookdown with some information on how to compile your document. The only part of this you need to edit is line 13, where you can replace Lisa’s name with your own and update the link to your homepage. bookdown.yml provides R Bookdown with some more information on your document details. The only lines of interest are: Line 1: Update this to change the output filename of your book; Line 4: Update this to change the prefix of each # Heading. For this template, we have set this to \"Part \" (note the space at the end). If you would rather not have a prefix at all, comment out this line by inserting a # at the start of line 4. 2.2 Markdown Basics If you’re completely new to R Markdown, the Markdown Basics guide provides an excellent overview of the most common syntax. Most of it is very straightforward and intuitive, but will take some getting used to if you are accustomed to LaTeX. 2.2.1 Examples Emphasis Emphasise parts of text using **bold** or __bold__. You can use *italic* or _italic_ for italic text, but it is best to avoid this when creating accessible documents. Headings Use the syntax # Heading 1 ## Heading 2 ### Heading 3 #### Heading 4 ##### Heading 5 ###### Heading 6 for headings, subheadings, etc. R Bookdown will automatically number your headings. To suppress the heading number, add {-} at the end of your heading, e.g. ## Unnumbered Subheading {-}. Links and References Add a link to a url using the syntax [link text](link url). Example 2.1 (Website Link) [School of Mathematical Sciences](https://www.nottingham.ac.uk/mathematics/?target=_blank) School of Mathematical Sciences Adding ?target=_blank to the end of the URL forces the link to open in a new tab when clicked. Example 2.2 (Cross Reference) Link to other parts of your book using heading names. Find out how to [Upload your book to Moodle][Upload Your Book to Moodle]. Find out how to Upload your book to Moodle. We recommend suppressing numbers from Heading 4 onwards. Lists Create unordered lists using the syntax * Item 1 * Item 2 + Item 2a + Item 2a Which produces the output: Item 1 Item 2 Item 2a Item 2a Similarly, an ordered list can be created using the syntax 1. Item 1 2. Item 2 a. Item 2a b. Item 2b Item 1 Item 2 Item 2a Item 2b 2.3 Mathematics Mathematics can be entered using familiar LaTeX commands and delimiters. Inline Mathematics Inline mathematics is delimited using either $...$ or \\(...\\). Example 2.3 (Inline Mathematics) The syntax Consider the equation $y = mx+c$. yields: Consider the equation \\(y = mx+c\\). Display Mathematics Display mathematics (unnumbered) is delimited using either $$...$$, \\[...\\] or \\begin{equation*}...\\end{equation*}. Example 2.4 (Display Mathematics) \\[ \\int_0^\\infty e^{-x^2}\\,\\mathrm{d}x = \\frac{\\sqrt{\\pi}}{2}. \\] yields: \\[ \\int_0^\\infty e^{-x^2}\\,\\mathrm{d}x = \\frac{\\sqrt{\\pi}}{2}. \\] Numbered Equation Enter a numbered equation in the usual way using \\begin{equation}...\\end{equation}. Whilst the equation environment follows conventional LaTeX syntax, R Bookdown does not support \\label, \\eqref to tag and reference equations. See the example below for how to tag and reference an equation in R Bookdown. Example 2.5 (Numbered Equation) \\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} (\\#eq:binom) \\end{equation} Consider the Binomial Theorem \\@ref(eq:binom). \\[\\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} \\tag{2.1} \\end{equation}\\] Consider the Binomial Theorem (2.1). Do not use underscores (“_“) in your labels for cross referencing equations, or any other parts (e.g. tables, theorems, etc. which are discussed in later sections). If you have a label with multiple words, either just write them all in lower case, or use camel case, e.g. #PythThm instead of #pyth_thm. Underscores are special characters in Markdown that are used to delimit italic text (see Markdown Basics), so using this character in labels causes a conflict. User-Defined Commands You may be the sort of person who likes writing your own LaTeX commands to save some typing. You can add custom commands anywhere in a .Rmd file and they will work in the expected way, as long as you define the command before its first use in your book. The best place to define your custom commands is in index.md just below Line 16. Example 2.6 (User-Defined Commands) Defining the following custom commands in index.md \\newcommand{\\rd}{\\mathrm{d}} \\newcommand{\\deriv}[2]{\\frac{\\rd #1}{\\rd #2}} \\newcommand{\\nthderiv}[3]{\\frac{\\rd^#3 #1}{\\rd #2}} then writing Consider the differential equation \\[ \\nthderiv{y}{x}{2}+3\\deriv{y}{x}-y=0. \\] yields: Consider the differential equation \\[ \\frac{\\mathrm{d}^2 y}{\\mathrm{d}x}+3\\frac{\\mathrm{d}y}{\\mathrm{d}x}-y=0. \\] Multiple and Multiline Equations R Bookdown interprets the align environment in the usual way. You can tag each line individually to refer back to specific equations. Replace the tag with \\notag to suppress the numbering of a line. Unfortunately, R Bookdown does not support the subequations environment (e.g. for labelling equations 2.2a, 2.2b etc.) Example 2.7 (Align Environment) \\begin{align} g(X_{n}) &amp;= g(\\theta)+g&#39;({\\tilde{\\theta}})(X_{n}-\\theta) (\\#eq:align1) \\\\ \\sqrt{n}[g(X_{n})-g(\\theta)] &amp;= g&#39;\\left({\\tilde{\\theta}}\\right) \\sqrt{n}[X_{n}-\\theta ] (\\#eq:align2) \\end{align} Consider the equations \\@ref(eq:align1) and \\@ref(eq:align2). \\[\\begin{align} g(X_{n}) &amp;= g(\\theta)+g&#39;({\\tilde{\\theta}})(X_{n}-\\theta) \\tag{2.2} \\\\ \\sqrt{n}[g(X_{n})-g(\\theta)] &amp;= g&#39;\\left({\\tilde{\\theta}}\\right) \\sqrt{n}[X_{n}-\\theta ] \\tag{2.3} \\end{align}\\] Consider equations (2.2) and (2.3). There is a (possibly unavoidable) bug with the cross-referencing of multiple equations in the align environment. Whilst adding a label to each equation successfully adds a number to the equation where it is displayed, the hyperlink does not work for the first equation. In general, only the hyperlink to the final equation will work. In the situation where you have multiple equations and it is important to be able to individually reference each one, we recommend writing each equation in its own equation environment using the method in Example 2.5. You can use the split environment inside equation so that all lines in a multiline equation share the same number. Example 2.8 (Split Environment) \\begin{equation} \\begin{split} \\mathrm{Var}(\\hat{\\beta}) &amp; =\\mathrm{Var}((X&#39;X)^{-1}X&#39;y)\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)((X&#39;X)^{-1}X&#39;)&#39;\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)X(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\sigma^{2}IX(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}\\sigma^{2} \\end{split} (\\#eq:var-beta) \\end{equation} See \\@ref(eq:var-beta) for the calculation of \\(\\mathrm{Var}(\\hat{\\beta})\\). \\[\\begin{equation} \\begin{split} \\mathrm{Var}(\\hat{\\beta}) &amp; =\\mathrm{Var}((X&#39;X)^{-1}X&#39;y)\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)((X&#39;X)^{-1}X&#39;)&#39;\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)X(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\sigma^{2}IX(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}\\sigma^{2} \\end{split} \\tag{2.4} \\end{equation}\\] See (2.4) for the calculation of \\(\\mathrm{Var}(\\hat{\\beta})\\). 2.4 Tables Here is a basic table. |Header 1| Header 2 | Header 3| |:------|:-------|:---------| |Row 1 | Number | Number| |Row 2 | Number | Number| Header 1 Header 2 Header 3 Row 1 Number Number Row 2 Number Number Only very simple tables can be created using Markdown syntax (by design). This is generally a good thing for accessibility, but if you want to create more intricate tables, you can do so using raw HTML inside a .Rmd file (HTML is interpreted by R Bookdown just as readily as Markdown). If you get fed up dealing with plain text to make your table, there are many good Markdown/HTML table generators online. I use this one, but others are available. 2.5 Images We look at two approaches for adding the same image. We add alternative text (usually referred to as “alt text”) in both cases. You will see how R Markdown treats them differently. The files must either be in the same directory as your .Rmd file(s), or you need to specify the path to the subfolder containing your image file. Approach 1 (Markdown) This is the easier approach but the alt text is not as nice (we have cheated and written it as a caption). ![Here is the alt text](workers.png) Here is the alt text Approach 2 (R) This is a slightly more difficult approach and requires the use of R, but it is better for “hiding” the alternative text. ```{r, echo=FALSE, out.width=&quot;600px&quot;, fig.alt=&quot;Here is the alt text&quot;, fig.cap=&quot;Here is the image caption.&quot;} knitr::include_graphics(&quot;workers.png&quot;) ``` Figure 2.1: Here is the image caption. The student could view the alt text by right clicking on the image and selecting “Inspect Element”, or by using suitable assistive technology. This is the preferred approach since we can distinguish between image captions and alt text. Also, we benefit from R’s automatic numbering of figures in their captions. 2.5.1 Generating Images Using R (or Python) Press Ctrl+Alt+I to add R code. This adds the chunk below and you can add in R code. Python (or other languages) can also be added by pressing the ‘+C’ image at the top right corner. Example 2.9 (Create Image Using R) x&lt;-rnorm(100,mean=4,sd=2) y&lt;-x^{2} plot(x,y,lwd=4,main=&quot;Mock plot&quot;) Figure 2.2: A graph demonstrating… You can also hide code, so that graphs are produced without showing the code, or you can hide output so the code is shown without the results etc. see the R Markdown cheatsheet for more information. Example 2.10 (Hide Code) The graph is produced but the code is hidden, by setting echo=FALSE. Figure 2.3: A graph demonstrating… Example 2.11 (Hide Graph) Here, the code is shown but the graph is not shown using eval=FALSE. x&lt;-rnorm(100,mean=4,sd=2) y&lt;-x^{2} plot(x,y,lwd=4,main=&quot;Mock plot&quot;) 2.6 Environments R Bookdown has several built-in environments, such as Theorem, Example, etc to help organise your notes. 2.6.1 Numbered Environments The following environments have an automatic numbering system and so can be cross-referenced. Table 2.1: Numbered Environments in R Bookdown Environment Printed Name Label Prefix theorem Theorem thm lemma Lemma lem corollary Corollary cor proposition Proposition prp conjecture Conjecture cnj definition Definition def example Example exm exercise Exercise exr hypothesis Hypothesis hyp Example 2.12 (Example Environment) This green box is the example environment. To invoke the example environment, use the syntax ::: {.example name=&quot;Example Name&quot;} &lt;br&gt; Example text... ::: If you do not wish to name your example, then write :::example &lt;br&gt; Example text... ::: The &lt;br&gt; tag is used to start the example text on a new line. Cross Referencing Environments Numbered environments are cross referenced in a similar way to equations (see Section 2.3). ::: {.theorem #pyth name=&quot;Pythagoras&#39; Theorem&quot;} For a right triangle, if $c$ denotes the length of the hypotenuse and $a$ and $b$ denote the lengths of the other two sides, we have $$a^2 + b^2 = c^2$$ ::: We use Pythagoras&#39; Theorem \\@ref(thm:pyth) to find the length of the missing side. Theorem 2.1 (Pythagoras' Theorem) For a right-angled triangle, if \\(c\\) denotes the length of the hypotenuse and \\(a\\) and \\(b\\) denote the lengths of the other two sides, we have \\[a^2 + b^2 = c^2.\\] We use Pythagoras’ Theorem 2.1 to find the length of the missing side. The syntax for referencing environments is \\@ref(&lt;prefix&gt;:&lt;label&gt;). Refer to Table 2.1 for the prefix corresponding to each environment type. The prefix for a table reference is tab. 2.6.2 Unnumbered Environments Table 2.2: Other Environments in R Bookdown Environment Printed Name proof Proof remark Remark note Note tip Tip activity Activity discussion Discussion solution Solution We have written a custom template for use in The School of Mathematical Sciences with a specific colour scheme and some additional environments. The code for the School Template is in style.css. If you want to make adjustments to the colour scheme, or add your own custom environments, then either edit your local copy of style.css, or (if you’re not familiar with CSS) contact Tom or Lisa to request a change/update. "],["interactivity.html", "Part 3 Interactivity 3.1 Reveal Hidden Text 3.2 Embedded Video 3.3 Quizzes", " Part 3 Interactivity The great thing with using HTML is that you can make your notes as interactive as you like. This section shows you a few ways of introducing interactivity to your notes, but the possibilities are endless. 3.1 Reveal Hidden Text You can hide and unhide some text (e.g. hints or optional solutions) as in the following example. Example 3.1 Use the “&lt;details&gt;” and “&lt;summary&gt;” html tags to hide and reveal text interactively. &lt;details&gt; &lt;summary&gt;click to unhide&lt;/summary&gt; Here is some hidden text. &lt;/details&gt; click to unhide. This is the text/image etc. that I want to hide. \\(a+b\\) x&lt;-rnorm(100,mean=4,sd=2) y&lt;-x^{2} plot(x,y,lwd=4,main=&quot;Mock plot&quot;) Figure 3.1: A graph demonstrating… 3.2 Embedded Video Please watch the video below to see how we have embedded this video from mediaspace. If the link does not work then please use this alternative link. Example 3.2 How to use the template - Another video example Note to use all of this you will need R studio and R to be installed on your machine. Then you just need to open the project in R studio. Then in R studio just create a new .Rmd file to add a new chapter and just save it as 01, 02, 03, 04 etc. in the name for the order you want that chapter to appear. A video below shows what to do in more detail. If the video does not work then please use this alternative link. 3.3 Quizzes 3.3.1 Xerte For Xerte, just paste the embed code. Example below. Note, if you have your settings on Xerte so that the file can only be viewed from Moodle, then the Xerte file will only show if the Rbookdown file is uploaded to Moodle. If the interactive slides above do not work then please access them using this link. 3.3.2 Itempool Here we use r commands to add in a URL. 3.3.3 Microsoft Forms Example 3.3 This one has been used by copying and pasting the embed code from the microsoft form share settings. "],["adding-colour.html", "Part 4 Adding colour 4.1 Adding colour to maths output 4.2 New box types", " Part 4 Adding colour This is an advanced feature for bookdown and is not suitable for beginners. It is quite easy to use HTML to add colour to text. However when you change the theme to night you will not be able to see the colour. Steve Wang has provided a solution that uses HTML and R to use colours that change in the three different themes. In this template we have set three default colour schemes that are accessible in all of the three themes. If you would like to change the colour of some text you can do by creating the following formula in R. The class myhl is defined in the style file. The below function is so you can see the output of the above function and can be deleted. colorize&lt;-function(x,color){ if (knitr::is_latex_output()) { sprintf(&quot;\\\\textcolor{%s}{%s}&quot;,color,x) } else if (knitr::is_html_output()){ sprintf(&quot;&lt;span class=&#39;myhl&#39;&gt;%s&lt;/span&gt;&quot; ,x) } else x } We can them add some words in blue. You may want to see what happens when you change the theme to night in the output. We can then define another colour using the following colorize2&lt;-function(x,color){ if (knitr::is_latex_output()) { sprintf(&quot;\\\\textcolor{%s}{%s}&quot;,color,x) } else if (knitr::is_html_output()){ sprintf(&quot;&lt;span class=&#39;myhl2&#39;&gt;%s&lt;/span&gt;&quot; ,x) } else x } Here is some text using the red theme colorize3&lt;-function(x,color){ if (knitr::is_latex_output()) { sprintf(&quot;\\\\textcolor{%s}{%s}&quot;,color,x) } else if (knitr::is_html_output()){ sprintf(&quot;&lt;span class=&#39;myhl3&#39;&gt;%s&lt;/span&gt;&quot; ,x) } else x } Finally here is some text using the final colour scheme. 4.1 Adding colour to maths output This is even more complicated and uses the style file. We have set three default colours for blue, red and green that meet accessibility requirements in the three different themes. \\[ g(\\color{blue}{x-1}) = 3(\\color{red}{x-1}) + 1 = \\color{green}{3x} - 3 + 1 = 3x-2. \\] 4.2 New box types We have added some new box types to the template. Watch out for this common mistake! Here is a key point. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
